tail(gdp_data)
as.numeric(gdp_data$X.1)
?as.numeric
as.numeric(" ")
as.numeric("")
gdp_data[,1]
gdp_data[,2]
data <- gdp_data[,2]
data
data
as.numeric(data)
is.numeric(data)
data
data[320]
some <- data[[320]]
some
some
class(some)
gdp_data <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data$X.1
as.numeric(gdp_data$X.1)
gdp_data[!is.na(as.numeric(gdp_data$X.1)),]
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)),]
gdp_data
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)),-2]
gdp_data
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)),-3]
gdp_data
gdp_data <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)),-3]
head(gdp_data)
c(1, 2:20)
c(1, 1:20)
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)), -c(X.2, X.5:X.9)]
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)), -c(X.2, X.5:X.9)]
gdp_data <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)), -c(X.2, X.5:X.9)]
gdp_data <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
head(gdp_data)
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(gdp_data$X.1)), -c(X.2, X.5:X.9)]
gdp_data
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), -c(V3, V5:V10)]
gdp_data
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
data <- gdp_data[!is.na(as.numeric(V2)), -c(V3, V5:V10)]
data
rm("data")
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
data <- gdp_data[!is.na(as.numeric(V2)), -c(V3, V5:V10)]
data
head(gdp_data)
gdp_data$V3
gdp_data[,-V3]
gdp_data[,V3]
gdp_data[,V3:V4]
head(gdp_data)
gdp_data[,c(V1, V2, V4, V5)]
gdp_data[, .(V1, V2, V4, V5)]
length(gdp_data[, .(V1, V2, V4, V5)]_
length(gdp_data[, .(V1, V2, V4, V5)])
gdp_data[ ,.(V1, V2, V4, V5)]
dim(gdp_data[ ,.(V1, V2, V4, V5)]_
dim(gdp_data[ ,.(V1, V2, V4, V5)])
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
data
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
head(gdp_data)
history()
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
edu_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv')
join(gdp_data, edu_data, by="CountryCode")
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
edu_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv')
merge(gdp_data, edu_data, by="CountryCode")
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
edu_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv')
merge(gdp_data, edu_data, by="CountryCode")
merged <- merge(gdp_data, edu_data, by="CountryCode")
dim(merged)
merged[order(-GDP),]
head(merged[order(-GDP),],13)
head(merged[order(GDP),],13)
merged[which(order(-GDP)),]
merged[which(order(-GDP))]
merged[order(-GDP)]
head(merged[order(-GDP)])
head(merged[order(-GDP), GDP, Country])
head(merged[order(-GDP), GDP, Country], 13)
merged$GDP
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
gdp_data <- gdp_data[, GDP:=as.numeric(GDP)]
edu_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv')
merged <- merge(gdp_data, edu_data, by="CountryCode")
merged[order(-GDP), ]
head(merged[order(-GDP), GDP, Country], 13)
gdp_data$GDP
parse_number("8,227,103")
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
gdp_data <- gdp_data[, GDP:=parse_number(GDP)]
edu_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv')
merged <- merge(gdp_data, edu_data, by="CountryCode")
head(merged[order(-GDP), GDP, Country], 13)
merged %>%
group_by(`Income Group`) %>%
summarize(avg_gdp=mean(GDP))
merged %>%
group_by(`Income Group`) %>%
summarize(avg_gdp=mean(Ranking))
merged %>%
group_by(`Income Group`) %>%
summarize(avg_gdp=mean(Ranking, na.rm=TRUE))
merged$Ranking
library(data.table)
gdp_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv', skip=4, stringsAsFactors=FALSE)
gdp_data <- gdp_data[!is.na(as.numeric(V2)), .(V1, V2, V4, V5)]
names(gdp_data) <- c("CountryCode", "Ranking", "Country", "GDP")
gdp_data <- gdp_data[, GDP:=parse_number(GDP)]
gdp_data <- gdp_data[, Ranking:=parse_number(Ranking)]
edu_data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv')
merged <- merge(gdp_data, edu_data, by="CountryCode")
head(merged[order(-GDP), GDP, Country], 13)
merged %>%
group_by(`Income Group`) %>%
summarize(avg_gdp=mean(Ranking))
?quantile
seq(5)
seq(0, 1, length.out=5)
quantile(merged$Ranking, probs=seq(0, 1, length.out=5))
quantile(merged$Ranking, probs=seq(0, 1, length.out=6))
install.packages("Hmisc")
library(Hmisc)
merged$gdpGroup <- cut2(merged$Ranking, g=5)
merged$gdpGroup
merged$gdpGroup <- cut2(merged$Ranking, g=5)
xtabs(gdpGroup ~ `Income Group`, data=merged)
head(merged)
xtabs(gdpGroup ~ `Income Group`, data=merged)
data("UCBAdmissions")
DF = as.data.frame(UCBAdmissions)
DF
class(DF$Admit)
class(merged[['Income Group']])
merged$`Income Group` <- as.factor(merged$`Income Group`)
class(merged$`Income Group`)
xtabs(gdpGroup ~ `Income Group`, data=merged)
class(merged$gdpGroup)
xtabs(Region ~ `Income Group`, data=merged)
merged$Region <- as.fac
merged$Region <- as.factor(merged$Region)
xtabs(Region ~ `Income Group`, data=merged)
xtabs(Some ~ Region + `Income Group`, data=merged)
xtabs(Freq ~ Region + `Income Group`, data=merged)
head(DF)
merged
merged$Ranking
merged[order(Ranking), ]
merged[order(Ranking), ]$Ranking
merged[order(Ranking), ][1:38,]
?filter
names(merged)
merged %>%
filter(Ranking <= 38 & `Income Group` == "Lower middle income")
merged %>% merged %>%
filter(Ranking <= 38 & `Income Group` == "Lower middle income") %>%
select(Country)
filter(Ranking <= 38 & `Income Group` == "Lower middle income")
merged %>%
filter(Ranking <= 38 & `Income Group` == "Lower middle income") %>%
select(Country)
xtabs(Raking ~ `Income Group`, merged)
xtabs(Rahking ~ `Income Group`, merged)
xtabs(Ranking ~ `Income Group`, merged)
xtabs(Ranking ~ `Income Group` + Region, merged)
x <- rnorm(1000)
y <- rnorm(1000)
plot(x, y)
abline(lm(x, y), col='red')
abline(lm(x ~ y), col='red')
y <- rnorm(10000)
x <- rnorm(10000)
plot(x, y)
abline(lm(x ~ y), col='red')
swirl()
library(swirl   )
install_course("Exploratory_Data_Analysis")
swirl()
head(pollution)
dim(pollution)
summary(pollution$pm25)
qunatile(ppm)
quantile(ppm)
boxplot(ppm, col="blue")
?abline
abline(h=12)
hist(ppm, col='green')
rug(ppm)
low
high
hist(ppm, col='green', breaks=100)
rug(ppm)
hist(ppm, col='green')
abline(v=12, lwd=2)
abline(v=median(ppm), col='magenta', lwd=4)
names(pollution)
table(pollution$fips)
table(pollution$region)
reg <- table(pollution$region)
reg
barplot(reg, col="wheat", main="Number of Countries in Each Region")
barplot(reg, col="wheat", main="Number of Counties in Each Region")
boxplot(pm25~region, data=pollution, col="red")
par(mfrow=c(2,1), mar=c(4,4,2,1))
subset(pollution, region=='east')
east <- subset(pollution, region=='east')
head(east)
hist(east, col='green')
east
hist(east$pm25, col='green')
hist(subset(pollution, region=='west'), col='green')
hist(subset(pollution, region=='west')$pm2, col='green')
hist(subset(pollution, region=='west')$pm2, col='green')
hist(subset(pollution, region=='west')$pm25, col='green')
with(pollution, plot(latitude, pm25))
abline(h=12)
abline(h=12, lwd=2, lty2)
abline(h=12, lwd=2, lty=2)
plot(pollution$latitude, ppm, col=pollution$region)
abline(h=12, lwd=2, lty=2)
par(mfrow=c(1,2), mar=c(5,4,2,1))
west <- subset(pillution, region == 'west')
west <- subset(pollution, region == 'west')
plot(west$latitude, west$pm25, main="West")
plot(east$latitude, east$pm25, main="East")
?Devices
ва
2+2
with(failthful, plot(eruptions, waiting))
with(faithful, plot(eruptions, waiting))
title(main="Old Faithful Geyser data")
dev.cur()
pdf(file="myplot.pdf")
with(faithful, plot(eruptions, waiting))
title(main="Old Faithful Geyser data")
dev.cur()
dev.off()
dev.cur
dev.cur()
with(faithful, plot(eruptions, waiting))
title(main="Old Faithful Geyser data")
dev.copy(png, "geyserplot.png")
dev.copy(png, file="geyserplot.png")
dev.off()
getwd()
setwd("/Users/dima_kovalenko/Developer/R")
dir()
library(data.table)
fread("data5.csv")
data <- fread("data5.csv")
names(data)
strsplit(names(data))
strsplit(names(data), 'wgtp')
strsplit(names(data), 'wgtp')[[123]]
data <- fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv')
head(data)
tail(data)
data <- fread("data5.csv")
head(data)
dim(data)
?subset.data.table
?gsub
data[GDP=gsub(",","", V5)]
data[,GDP=gsub(",","", V5)]
data$gdp <- as.numeric(gsub(",", "", data$V5))
data$gdp
mean(data$gdp)
head(data)
with(data, grep("^United",V4))
data$V4
greap("^United", data$V4)
grep("^United", data$V4)
Sys.setlocale('LC_ALL','C')
grep("^United", data$V4)
data <- fread("data5.csv")
data2 <- fread("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv")
head(data2)
dim(data2)
names(data2)
data2$`National accounts base year`
data2$`National accounts reference year`
head(data2)
head(data)
data2 <- fread("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv")
names(data2)
?grep
grep("Fiscal", data)
head(data)
?match
?join
??join
merge(data, data2, by.x=V1, by.y=CountryCode)
merge(data, data2, by.x=data$V1, by.y=data2$CountryCode)
dim(data$v1)
dim(data$V1)
data$V10
data$V1
lenth(data$V1)
length(data$V1)
length(data2$CountryCode)
?match
merge(data, data2, by=c(data$V1, data2$CountryCode)
merge(data, data2, by=c(data$V1, data2$CountryCode))
merge(data, data2, by=c(data$V1, data2$CountryCode))
merge(data, data2, by=c(V1, CountryCode))
data
data$V1
merge(data, data2, by=c(data$V1, data2$CountryCode))
?setnames
setnames(data, "V1", "CountryCode")
names(data)
head(data)
merge(data, data2)
dim(merge(data, data2))
names(merge(data, data2))
join("June", merge(data, data2)$`Special Notes`)
grep("June", merge(data, data2)$`Special Notes`)
?grep
grep("June", merge(data, data2)$`Special Notes`, value=TRUE)
length(grep("June", merge(data, data2)$`Special Notes`))
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
head(sampleTimes)
class(sampleTimes)
interval(ymd('2012-01-01'), ymd('2013-01-1'))
library(lubridate)
interval(ymd('2012-01-01'), ymd('2013-01-1'))
sum(sampleTimes %in% interval(ymd('2012-01-01'), ymd('2013-01-1')))
sum(sampleTimes %within% interval(ymd('2012-01-01'), ymd('2013-01-1')))
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
getwd()
setwd("/Users/dima_kovalenko/Developer/R/Homework/CleaningData-Final/")
dir()
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
dir()
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
dir()
X = fread("UCI HAR Dataset/test/X_test.txt")
y = fread("UCI HAR Dataset/test/y_test.txt")
subjects = fread("UCI HAR Dataset/test/subject_test.txt")
subjects = fread("UCI HAR Dataset/test/subject_test.txt")
head(X)
dim(head)
head
dim(X)
dim(y)
dim(subjects)
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
getwd()
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
dir()
fread("UCI HAR Dataset/train/X_test.txt")
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
fread("UCI HAR Dataset/train/X_train.txt")
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
View(by_package)
View(cran)
View(cran3)
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
View(X)
fread("features/txt")
fread("features.txt")
fread("UCI HAR Dataset/features.txt")
fread("UCI HAR Dataset/features.txt")$V2
names(X) <- fread("UCI HAR Dataset/features.txt")$V2
names(X)
fread("UCI HAR Dataset/activity_labels.txt")
as.list(fread("UCI HAR Dataset/activity_labels.txt"))
?kist
?list
a = list(1,2,3)
a
names(a) <- c("Hi", "Hello", "Lol")
a
fread("UCI HAR Dataset/activity_labels.txt")
class(fread("UCI HAR Dataset/activity_labels.txt")$V2)
labels <- fread("UCI HAR Dataset/activity_labels.txt")
sapply(labels, function(x) {x})
sapply(labels, function(x) {x$V1})
sapply(labels, function(x) {x[[0]]})
sapply(labels, function(x) {x[9]})
sapply(labels, function(x) {x[0]})
sapply(labels, function(x) {x[1]})
sapply(labels, function(x) {x})
sapply(labels, function(x) {class(x)})
sapply(labels, function(x) {x})
class(sapply(labels, function(x) {x}))
class(sapply(labels, function(x) {x[[0]]}))
class(sapply(labels, function(x) {x[[1]]}))
sapply(labels, function(x) {x[[1]]})
labels <- fread("UCI HAR Dataset/activity_labels.txt")
activityLabels <- as.list(labels$V2)
names(activityLabels) <-labels$V1
activityLabels
labels <- fread("UCI HAR Dataset/activity_labels.txt")
activityLabels <- as.list(as.factor(labels$V2))
names(activityLabels) <-labels$V1
activityLabels
subjects
sapply(y, function(x) {x})
sapply(y, function(x) {activityLabels[x]})
sapply(y, function(x) {activityLabels[[x]]})
y[[0]]
y
sapply(y$V1, function(x) {activityLabels[[x]]})
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
sapply(y$V1, function(x) {activityLabels[[x]]})
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
head(X)
names(X)
head(X)
tail(X)
tail(x[,561])
tail(X[,561])
tail(X[,562])
tail(X[,563])
fread("UCI HAR Dataset/features.txt")$V2
filter(fread("UCI HAR Dataset/features.txt")$V2)
?filter
featureNames = fread("UCI HAR Dataset/features.txt")
featureNames
featureNames = fread("UCI HAR Dataset/features.txt")$V2
featureNames
a = c(1,2,3)
b = c(a, 4)
b
featureNames <- fread("UCI HAR Dataset/features.txt")$V2
grepl('mean|std', featureNames)
featureNames[grepl('mean|std', featureNames)]
featureNames[grepl('mean()|std()', featureNames)]
featureNames[grepl('mean\(\)|std()', featureNames)]
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
source('~/Developer/R/Homework/CleaningData-Final/run_analysis.R')
head(X)
X[,columns]
X[,..columns]
X <- X[,..columns]
head(X)
names(X)
X %>% group_by(subject, activity) %>% summarize()
library(dplyr)
X %>% group_by(subject, activity) %>% summarize()
X %>% group_by(subject) %>% summarize()
X %>% group_by(subject)
X %>% group_by(subject, activity)
X %>% group_by(subject, activity) %>% summarise_each(funs(mean(., na.rm=TRUE)))
X %>% group_by(subject, activity)
class(X %>% group_by(subject, activity))
X %>% group_by(subject, activity) %>% summarise_each(funs("means"))
X %>% group_by(subject, activity) %>% summarise_each(funs("mean"))
result <- X %>% group_by(subject, activity) %>% summarise_each(funs("mean"))
X %>% group_by(subject, activity) %>% summarise_each(funs("mean"))
result <- X %>% group_by(subject, activity) %>% summarise_each(funs("mean"))
result <- X %>% group_by(subject, activity) %>% summarise_all(funs("mean"))
result
head(result)
result <- X %>% group_by(subject, activity) %>% summarise("mean")
head(result)
result <- X %>% group_by(subject, activity) %>% summarise_all(funs("mean"))
head(result)
write.table(results, row.name=FALSE)
result <- X %>% group_by(subject, activity) %>% summarise_all(funs("mean"))
write.table(result, row.name=FALSE)
write.table(result, row.name=FALSE)
?write.table
write.table(result, row.name=FALSE, file='data.txt')
head(result)
